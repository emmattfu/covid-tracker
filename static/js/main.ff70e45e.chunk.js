(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),o=a.n(c),l=(a(62),a(6)),u=a.n(l),s=a(7),i=a(12),d=(a(64),a(65),a(165)),m="https://covid19.mathdro.id/api",f=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n,r,c,o,l,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m,t&&(a="".concat(m,"/countries/").concat(t)),e.prev=2,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,c=r.confirmed,o=r.recovered,l=r.deaths,s=r.lastUpdate,i={confirmed:c,recovered:o,deaths:l,lastUpdate:s},e.abrupt("return",i);case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/daily"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=a.map((function(e){return{confirmed:e.confirmed.total,deaths:e.deaths.total,date:e.reportDate}})),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/countries"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=a.countries,r=n.map((function(e){return e.name})),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),h=a(164),b=a(55),E=a(167),x=a(23),g=a.n(x);var y=function(e){var t=e.data,a=t.confirmed,n=t.recovered,c=t.deaths,o=t.lastUpdate;return a?r.a.createElement(h.a,{className:"justify-content-center"},r.a.createElement(b.a,{className:"flex-grow-0",xl:3,sm:12,md:4},r.a.createElement(E.a,{border:"primary mt-3"},r.a.createElement(E.a.Header,null,"Infected"),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,r.a.createElement(g.a,{start:0,end:a.value,duration:2,separator:","})),r.a.createElement(E.a.Subtitle,null,new Date(o).toLocaleDateString()),r.a.createElement(E.a.Text,null,"Number of active cases of COVID-19")))),r.a.createElement(b.a,{className:"flex-grow-0",xl:3,sm:12,md:4},r.a.createElement(E.a,{border:"success mt-3"},r.a.createElement(E.a.Header,null,"Recovered"),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,r.a.createElement(g.a,{start:0,end:n.value,duration:2,separator:","})),r.a.createElement(E.a.Subtitle,null,new Date(o).toLocaleDateString()),r.a.createElement(E.a.Text,null,"Number of recovered from COVID-19")))),r.a.createElement(b.a,{className:"flex-grow-0",xl:3,sm:12,md:4},r.a.createElement(E.a,{border:"danger mt-3"},r.a.createElement(E.a.Header,null,"Deaths"),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,r.a.createElement(g.a,{start:0,end:c.value,duration:2,separator:","})),r.a.createElement(E.a.Subtitle,null,new Date(o).toLocaleDateString()),r.a.createElement(E.a.Text,null,"Number of deaths caused by COVID-19"))))):r.a.createElement("h1",null,"Loading...")},w=a(166),j=r.a.createContext();var O=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(j).changeCountry;return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,v();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"country-picker d-flex justify-content-center"},r.a.createElement(w.a.Control,{as:"select",custom:!0,style:{width:"50%",margin:"15px auto"},onChange:function(e){return o(e.target.value)}},r.a.createElement("option",{value:""},"Global"),a.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))},k=a(35);var C=function(e){var t=e.data,a=t.confirmed,c=t.recovered,o=t.deaths,l=e.country,d=Object(n.useState)([]),m=Object(i.a)(d,2),f=m[0],v=m[1];Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]);var h=a?r.a.createElement(k.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[a.value,c.value,o.value]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state in ".concat(l)}}}):null,b=f.length?r.a.createElement(k.b,{data:{labels:f.map((function(e){return e.date})),datasets:[{data:f.map((function(e){return e.confirmed})),label:"Infected",borderColor:"#3333ff",fill:!0},{data:f.map((function(e){return e.deaths})),label:"Deaths",borderColor:"red",backgroundColor:"rgba(225, 0, 0, 0.5)",fill:!0}]}}):null;return r.a.createElement(r.a.Fragment,null,l?h:b)};var D=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),m=l[0],p=l[1];Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(m);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]);var v=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(j.Provider,{value:{changeCountry:v}},r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement("h1",{className:"text-center",style:{margin:"25px 0"}},"COVID-19 Tracker"),r.a.createElement(y,{data:a}),r.a.createElement(O,null),r.a.createElement(C,{data:a,country:m}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,a){e.exports=a(163)},62:function(e,t,a){},64:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.ff70e45e.chunk.js.map